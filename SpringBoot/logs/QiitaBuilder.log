2020-12-07 11:07:07 INFO  [main] - Starting QiitaBuilderApplication on LAPTOP-RR61C2SS with PID 19496 (C:\env\springworkspace_2\QiitaBuilder\SpringBoot\target\classes started by rpuser in C:\env\springworkspace_2\QiitaBuilder\SpringBoot)
2020-12-07 11:07:07 INFO  [main] - No active profile set, falling back to default profiles: default
2020-12-07 11:07:08 INFO  [main] - Tomcat initialized with port(s): 8080 (http)
2020-12-07 11:07:08 INFO  [main] - Starting service [Tomcat]
2020-12-07 11:07:08 INFO  [main] - Starting Servlet engine: [Apache Tomcat/9.0.38]
2020-12-07 11:07:08 INFO  [main] - Initializing Spring embedded WebApplicationContext
2020-12-07 11:07:08 INFO  [main] - Root WebApplicationContext: initialization completed in 1419 ms
2020-12-07 11:07:09 INFO  [main] - Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49b89425, org.springframework.security.web.context.SecurityContextPersistenceFilter@74e497ae, org.springframework.security.web.header.HeaderWriterFilter@283ab206, org.springframework.web.filter.CorsFilter@59328218, org.springframework.security.web.authentication.logout.LogoutFilter@3111631d, com.qiitabuilder.security.SimpleTokenFilter@5345dfe8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@59918c8f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35d7386b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@569348e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@478967eb, org.springframework.security.web.session.SessionManagementFilter@3e03046d, org.springframework.security.web.access.ExceptionTranslationFilter@40d96578, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@720f56e2]
2020-12-07 11:07:09 INFO  [main] - Initializing ExecutorService 'applicationTaskExecutor'
2020-12-07 11:07:09 INFO  [main] - Tomcat started on port(s): 8080 (http) with context path ''
2020-12-07 11:07:09 INFO  [main] - Started QiitaBuilderApplication in 3.654 seconds (JVM running for 5.493)
2020-12-07 11:07:58 INFO  [http-nio-8080-exec-1] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2020-12-07 11:07:58 INFO  [http-nio-8080-exec-1] - Initializing Servlet 'dispatcherServlet'
2020-12-07 11:07:58 INFO  [http-nio-8080-exec-1] - Completed initialization in 16 ms
2020-12-07 11:08:04 INFO  [http-nio-8080-exec-5] - HikariPool-1 - Starting...
2020-12-07 11:08:04 INFO  [http-nio-8080-exec-5] - HikariPool-1 - Start completed.
2020-12-07 11:08:04 DEBUG [http-nio-8080-exec-5] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:05 DEBUG [http-nio-8080-exec-5] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:05 DEBUG [http-nio-8080-exec-5] - <==      Total: 1
2020-12-07 11:08:05 DEBUG [http-nio-8080-exec-7] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:05 DEBUG [http-nio-8080-exec-7] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:05 DEBUG [http-nio-8080-exec-7] - <==      Total: 1
2020-12-07 11:08:05 DEBUG [http-nio-8080-exec-7] - ==>  Preparing: SELECT art.article_id, created_at as createdAt, updated_at as updatedAt, feed_cnt_table.feed_cnt as feedCnt, my_cnt_table.my_cnt as myCnt, recommend_cnt_table.recommend_cnt as recommendCnt FROM ( select * from articles WHERE state_flag IN ( ? , ? ) ) as art LEFT OUTER JOIN (SELECT article_id, COUNT(feed.article_id) as feed_cnt FROM feedbacks as feed GROUP BY feed.article_id) as feed_cnt_table ON art.article_id = feed_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, COUNT(my.article_id) as my_cnt FROM my_articles as my GROUP BY my.article_id) as my_cnt_table on art.article_id = my_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, COUNT(recommend.article_id) as recommend_cnt FROM qiita_recommends as recommend GROUP BY recommend.article_id) as recommend_cnt_table ON art.article_id = recommend_cnt_table.article_id WHERE title LIKE CONCAT('%', ?, '%') OR content LIKE CONCAT('%', ?,'%') ORDER BY createdAt desc ,art.article_id desc LIMIT ? OFFSET ?
2020-12-07 11:08:05 DEBUG [http-nio-8080-exec-7] - ==> Parameters: 1(Integer), 2(Integer), (String), (String), 10(Integer), 0(Integer)
2020-12-07 11:08:05 DEBUG [http-nio-8080-exec-7] - <==      Total: 10
2020-12-07 11:08:05 DEBUG [http-nio-8080-exec-7] - ==>  Preparing: SELECT DISTINCT art.article_id as articleId, art.title as title, art.created_at as createdAt, art.updated_at as updatedAt, art.state_flag as stateFlag, tags.tag_id as tagId, tags.tag_name as tagName, feed_cnt_table.feed_cnt as feedCnt, my_cnt_table.my_cnt as myCnt, recommend_cnt_table.recommend_cnt as recommendCnt, users.user_id as userId, users.display_name as displayName, users.photo_url as photoUrl FROM articles as art LEFT OUTER JOIN articles_tags_relations as a_t_relation ON art.article_id = a_t_relation.article_id LEFT OUTER JOIN tags ON a_t_relation.tag_id = tags.tag_id LEFT OUTER JOIN (SELECT article_id, count(feed.article_id) as feed_cnt FROM feedbacks as feed GROUP BY feed.article_id) as feed_cnt_table ON art.article_id = feed_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(my.article_id) as my_cnt FROM my_articles as my GROUP BY my.article_id) as my_cnt_table ON art.article_id = my_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(recommend.article_id) as recommend_cnt FROM qiita_recommends as recommend GROUP BY recommend.article_id) as recommend_cnt_table ON art.article_id = recommend_cnt_table.article_id LEFT OUTER JOIN users ON art.user_id = users.user_id WHERE art.article_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY createdAt DESC ,art.article_id desc ,tagId
2020-12-07 11:08:05 DEBUG [http-nio-8080-exec-7] - ==> Parameters: 176(Integer), 157(Integer), 44(Integer), 187(Integer), 168(Integer), 190(Integer), 175(Integer), 156(Integer), 193(Integer), 183(Integer)
2020-12-07 11:08:05 DEBUG [http-nio-8080-exec-7] - <==      Total: 20
2020-12-07 11:08:06 DEBUG [http-nio-8080-exec-9] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:06 DEBUG [http-nio-8080-exec-9] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:06 DEBUG [http-nio-8080-exec-9] - <==      Total: 1
2020-12-07 11:08:06 DEBUG [http-nio-8080-exec-9] - ==>  Preparing: SELECT art.article_id, created_at as createdAt, updated_at as updatedAt, feed_cnt_table.feed_cnt as feedCnt, my_cnt_table.my_cnt as myCnt, recommend_cnt_table.recommend_cnt as recommendCnt FROM ( select * from articles WHERE state_flag IN ( ? , ? ) ) as art LEFT OUTER JOIN (SELECT article_id, COUNT(feed.article_id) as feed_cnt FROM feedbacks as feed GROUP BY feed.article_id) as feed_cnt_table ON art.article_id = feed_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, COUNT(my.article_id) as my_cnt FROM my_articles as my GROUP BY my.article_id) as my_cnt_table on art.article_id = my_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, COUNT(recommend.article_id) as recommend_cnt FROM qiita_recommends as recommend GROUP BY recommend.article_id) as recommend_cnt_table ON art.article_id = recommend_cnt_table.article_id WHERE title LIKE CONCAT('%', ?, '%') OR content LIKE CONCAT('%', ?,'%') ORDER BY createdAt desc ,art.article_id desc
2020-12-07 11:08:06 DEBUG [http-nio-8080-exec-9] - ==> Parameters: 1(Integer), 2(Integer), (String), (String)
2020-12-07 11:08:06 DEBUG [http-nio-8080-exec-9] - <==      Total: 193
2020-12-07 11:08:06 DEBUG [http-nio-8080-exec-1] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:06 DEBUG [http-nio-8080-exec-1] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:06 DEBUG [http-nio-8080-exec-1] - <==      Total: 1
2020-12-07 11:08:06 DEBUG [http-nio-8080-exec-1] - ==>  Preparing: SELECT tag_id as tagId, tag_name as tagName FROM tags ORDER BY tag_name;
2020-12-07 11:08:06 DEBUG [http-nio-8080-exec-1] - ==> Parameters: 
2020-12-07 11:08:06 DEBUG [http-nio-8080-exec-1] - <==      Total: 5
2020-12-07 11:08:10 DEBUG [http-nio-8080-exec-4] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:10 DEBUG [http-nio-8080-exec-4] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:10 DEBUG [http-nio-8080-exec-4] - <==      Total: 1
2020-12-07 11:08:10 DEBUG [http-nio-8080-exec-6] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:10 DEBUG [http-nio-8080-exec-6] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:10 DEBUG [http-nio-8080-exec-6] - <==      Total: 1
2020-12-07 11:08:10 DEBUG [http-nio-8080-exec-6] - ==>  Preparing: SELECT user_id AS user_id FROM users WHERE uid = ?
2020-12-07 11:08:10 DEBUG [http-nio-8080-exec-6] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:10 DEBUG [http-nio-8080-exec-6] - <==      Total: 1
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-8] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-8] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-8] - <==      Total: 1
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-8] - ==>  Preparing: SELECT u.user_id AS user_id, u.uid AS u_id, u.display_name AS display_name, u.photo_url AS photo_url, tag_cnt_table.tag_cnt AS used_tag_count, tags.tag_name AS tag_name, tags.tag_id AS tag_id, feed_cnt_table.feed_cnt AS feedback_count, art_qiita_cnt_table.art_qiita_cnt AS posted_article_count, recommend_cnt_table.recommend_cnt AS qiita_recommended_all_count FROM users AS u LEFT OUTER JOIN (SELECT tag_id, posted_user_id, count(a_t_relation.tag_id) AS tag_cnt FROM articles_tags_relations AS a_t_relation LEFT JOIN articles as art ON a_t_relation.article_id = art.article_id WHERE posted_user_id = ? AND art.state_flag != 9 AND art.state_flag != 0 GROUP BY a_t_relation.tag_id) AS tag_cnt_table ON u.user_id = tag_cnt_table.posted_user_id LEFT OUTER JOIN tags AS tags ON tag_cnt_table.tag_id = tags.tag_id LEFT OUTER JOIN (SELECT user_id, count(feed.user_id) AS feed_cnt FROM feedbacks AS feed WHERE feed.delete_flag != 1 GROUP BY feed.user_id) AS feed_cnt_table ON u.user_id = feed_cnt_table.user_id LEFT OUTER JOIN (SELECT user_id, count(art.user_id) AS art_qiita_cnt FROM articles AS art WHERE art.state_flag = 2 GROUP BY art.user_id) AS art_qiita_cnt_table ON u.user_id = art_qiita_cnt_table.user_id LEFT OUTER JOIN (SELECT posted_user_id, count(recommend.posted_user_id) AS recommend_cnt FROM qiita_recommends AS recommend GROUP BY recommend.posted_user_id) AS recommend_cnt_table ON u.user_id = recommend_cnt_table.posted_user_id WHERE u.user_id = ? ORDER BY tag_cnt_table.tag_cnt DESC, tag_id;
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-8] - ==> Parameters: 41(Integer), 41(Integer)
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-8] - <==      Total: 1
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-1] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-1] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-3] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-3] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-1] - <==      Total: 1
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-4] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-3] - <==      Total: 1
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-4] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-1] - ==>  Preparing: SELECT art.article_id AS article_id, art.title AS article_title, art.created_at AS created_at, art.updated_at AS updated_at, art.state_flag AS state_flag, tags.tag_id AS tag_id, tags.tag_name AS tag_name, IF(feed_cnt_table.feed_cnt, feed_cnt_table.feed_cnt, 0) AS feedback_count, IF(my_cnt_table.my_cnt, my_cnt_table.my_cnt, 0) AS registered_my_article_count, users.user_id AS user_id, users.display_name AS display_name, users.photo_url AS photo_url, IF(recommend_cnt_table.recommend_cnt, recommend_cnt_table.recommend_cnt, 0) AS qiita_recommend_point FROM feedbacks AS feedbacked LEFT JOIN articles AS art ON feedbacked.article_id = art.article_id LEFT OUTER JOIN articles_tags_relations AS a_t_relation ON art.article_id = a_t_relation.article_id LEFT OUTER JOIN tags ON a_t_relation.tag_id = tags.tag_id LEFT OUTER JOIN (SELECT article_id, count(feed.article_id) AS feed_cnt FROM feedbacks AS feed GROUP BY feed.article_id) AS feed_cnt_table ON art.article_id = feed_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(my.article_id) AS my_cnt FROM my_articles AS my GROUP BY my.article_id) AS my_cnt_table ON art.article_id = my_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(recommend.article_id) AS recommend_cnt FROM qiita_recommends AS recommend GROUP BY recommend.article_id) AS recommend_cnt_table ON art.article_id = recommend_cnt_table.article_id LEFT JOIN users ON art.user_id = users.user_id WHERE feedbacked.user_id = ? AND art.state_flag != 9 AND feedbacked.delete_flag != 1 ORDER BY art.created_at DESC, tag_id;
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-3] - ==>  Preparing: SELECT art.article_id AS article_id, art.title AS article_title, art.created_at AS created_at, art.updated_at AS updated_at, art.state_flag AS state_flag, tags.tag_id AS tag_id, tags.tag_name AS tag_name, IF(feed_cnt_table.feed_cnt, feed_cnt_table.feed_cnt, 0) AS feedback_count, IF(my_cnt_table.my_cnt, my_cnt_table.my_cnt, 0) AS registered_my_article_count, users.user_id AS user_id, users.display_name AS display_name, users.photo_url AS photo_url, IF(recommend_cnt_table.recommend_cnt, recommend_cnt_table.recommend_cnt, 0) AS qiita_recommend_point FROM my_articles AS my_art LEFT JOIN articles AS art ON my_art.article_id = art.article_id LEFT OUTER JOIN articles_tags_relations AS a_t_relation ON art.article_id = a_t_relation.article_id LEFT OUTER JOIN tags AS tags ON a_t_relation.tag_id = tags.tag_id LEFT OUTER JOIN (SELECT article_id, count(feed.article_id) AS feed_cnt FROM feedbacks AS feed GROUP BY feed.article_id) AS feed_cnt_table ON art.article_id = feed_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(my.article_id) AS my_cnt FROM my_articles AS my GROUP BY my.article_id) AS my_cnt_table ON art.article_id = my_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(recommend.article_id) AS recommend_cnt FROM qiita_recommends AS recommend GROUP BY recommend.article_id) AS recommend_cnt_table ON art.article_id = recommend_cnt_table.article_id LEFT JOIN users ON art.user_id = users.user_id WHERE my_art.register_user_id = ? AND art.state_flag != 9 ORDER BY art.created_at DESC, tag_id;
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-1] - ==> Parameters: 41(Integer)
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-3] - ==> Parameters: 41(Integer)
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-4] - <==      Total: 1
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-4] - ==>  Preparing: SELECT art.article_id AS articleId, art.title AS title, art.created_at AS createdAt, art.updated_at AS updatedAt, art.state_flag AS stateFlag, tags.tag_id AS tagId, tags.tag_name AS tagName, IF(feed_cnt_table.feed_cnt, feed_cnt_table.feed_cnt, 0) AS feedCnt, IF(my_cnt_table.my_cnt, my_cnt_table.my_cnt, 0) AS myCnt, users.user_id AS userId, users.display_name AS displayName, users.photo_url AS photoUrl, IF(recommend_cnt_table.recommend_cnt, recommend_cnt_table.recommend_cnt, 0) AS recommendCnt FROM articles AS art LEFT OUTER JOIN articles_tags_relations AS a_t_relation ON art.article_id = a_t_relation.article_id LEFT OUTER JOIN tags ON a_t_relation.tag_id = tags.tag_id LEFT OUTER JOIN (SELECT article_id, count(feed.article_id) AS feed_cnt FROM feedbacks AS feed GROUP BY feed.article_id) AS feed_cnt_table ON art.article_id = feed_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(my.article_id) AS my_cnt FROM my_articles AS my GROUP BY my.article_id) AS my_cnt_table ON art.article_id = my_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(recommend.article_id) AS recommend_cnt FROM qiita_recommends AS recommend GROUP BY recommend.article_id) AS recommend_cnt_table ON art.article_id = recommend_cnt_table.article_id LEFT JOIN users ON art.user_id = users.user_id WHERE art.user_id = ? AND art.state_flag != 9 ORDER BY art.created_at DESC, tags.tag_id;
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-4] - ==> Parameters: 41(Integer)
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-3] - <==      Total: 0
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-1] - <==      Total: 0
2020-12-07 11:08:11 DEBUG [http-nio-8080-exec-4] - <==      Total: 0
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-5] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-5] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-5] - <==      Total: 1
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-7] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-7] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-7] - <==      Total: 1
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-7] - ==>  Preparing: SELECT art.article_id, created_at as createdAt, updated_at as updatedAt, feed_cnt_table.feed_cnt as feedCnt, my_cnt_table.my_cnt as myCnt, recommend_cnt_table.recommend_cnt as recommendCnt FROM ( select * from articles WHERE state_flag IN ( ? , ? ) ) as art LEFT OUTER JOIN (SELECT article_id, COUNT(feed.article_id) as feed_cnt FROM feedbacks as feed GROUP BY feed.article_id) as feed_cnt_table ON art.article_id = feed_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, COUNT(my.article_id) as my_cnt FROM my_articles as my GROUP BY my.article_id) as my_cnt_table on art.article_id = my_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, COUNT(recommend.article_id) as recommend_cnt FROM qiita_recommends as recommend GROUP BY recommend.article_id) as recommend_cnt_table ON art.article_id = recommend_cnt_table.article_id WHERE title LIKE CONCAT('%', ?, '%') OR content LIKE CONCAT('%', ?,'%') ORDER BY createdAt desc ,art.article_id desc LIMIT ? OFFSET ?
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-7] - ==> Parameters: 1(Integer), 2(Integer), (String), (String), 10(Integer), 0(Integer)
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-7] - <==      Total: 10
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-7] - ==>  Preparing: SELECT DISTINCT art.article_id as articleId, art.title as title, art.created_at as createdAt, art.updated_at as updatedAt, art.state_flag as stateFlag, tags.tag_id as tagId, tags.tag_name as tagName, feed_cnt_table.feed_cnt as feedCnt, my_cnt_table.my_cnt as myCnt, recommend_cnt_table.recommend_cnt as recommendCnt, users.user_id as userId, users.display_name as displayName, users.photo_url as photoUrl FROM articles as art LEFT OUTER JOIN articles_tags_relations as a_t_relation ON art.article_id = a_t_relation.article_id LEFT OUTER JOIN tags ON a_t_relation.tag_id = tags.tag_id LEFT OUTER JOIN (SELECT article_id, count(feed.article_id) as feed_cnt FROM feedbacks as feed GROUP BY feed.article_id) as feed_cnt_table ON art.article_id = feed_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(my.article_id) as my_cnt FROM my_articles as my GROUP BY my.article_id) as my_cnt_table ON art.article_id = my_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(recommend.article_id) as recommend_cnt FROM qiita_recommends as recommend GROUP BY recommend.article_id) as recommend_cnt_table ON art.article_id = recommend_cnt_table.article_id LEFT OUTER JOIN users ON art.user_id = users.user_id WHERE art.article_id in ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? ) ORDER BY createdAt DESC ,art.article_id desc ,tagId
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-7] - ==> Parameters: 176(Integer), 157(Integer), 44(Integer), 187(Integer), 168(Integer), 190(Integer), 175(Integer), 156(Integer), 193(Integer), 183(Integer)
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-7] - <==      Total: 20
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-9] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-9] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-9] - <==      Total: 1
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-9] - ==>  Preparing: SELECT art.article_id, created_at as createdAt, updated_at as updatedAt, feed_cnt_table.feed_cnt as feedCnt, my_cnt_table.my_cnt as myCnt, recommend_cnt_table.recommend_cnt as recommendCnt FROM ( select * from articles WHERE state_flag IN ( ? , ? ) ) as art LEFT OUTER JOIN (SELECT article_id, COUNT(feed.article_id) as feed_cnt FROM feedbacks as feed GROUP BY feed.article_id) as feed_cnt_table ON art.article_id = feed_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, COUNT(my.article_id) as my_cnt FROM my_articles as my GROUP BY my.article_id) as my_cnt_table on art.article_id = my_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, COUNT(recommend.article_id) as recommend_cnt FROM qiita_recommends as recommend GROUP BY recommend.article_id) as recommend_cnt_table ON art.article_id = recommend_cnt_table.article_id WHERE title LIKE CONCAT('%', ?, '%') OR content LIKE CONCAT('%', ?,'%') ORDER BY createdAt desc ,art.article_id desc
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-9] - ==> Parameters: 1(Integer), 2(Integer), (String), (String)
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-9] - <==      Total: 193
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-2] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-2] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-2] - <==      Total: 1
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-2] - ==>  Preparing: SELECT tag_id as tagId, tag_name as tagName FROM tags ORDER BY tag_name;
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-2] - ==> Parameters: 
2020-12-07 11:08:14 DEBUG [http-nio-8080-exec-2] - <==      Total: 5
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-3] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-3] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-3] - <==      Total: 1
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-5] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-5] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-5] - <==      Total: 1
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-5] - ==>  Preparing: SELECT u.user_id AS user_id, u.uid AS u_id, u.display_name AS display_name, u.photo_url AS photo_url, tag_cnt_table.tag_cnt AS used_tag_count, tags.tag_name AS tag_name, tags.tag_id AS tag_id, feed_cnt_table.feed_cnt AS feedback_count, art_qiita_cnt_table.art_qiita_cnt AS posted_article_count, recommend_cnt_table.recommend_cnt AS qiita_recommended_all_count FROM users AS u LEFT OUTER JOIN (SELECT tag_id, posted_user_id, count(a_t_relation.tag_id) AS tag_cnt FROM articles_tags_relations AS a_t_relation LEFT JOIN articles as art ON a_t_relation.article_id = art.article_id WHERE posted_user_id = ? AND art.state_flag != 9 AND art.state_flag != 0 GROUP BY a_t_relation.tag_id) AS tag_cnt_table ON u.user_id = tag_cnt_table.posted_user_id LEFT OUTER JOIN tags AS tags ON tag_cnt_table.tag_id = tags.tag_id LEFT OUTER JOIN (SELECT user_id, count(feed.user_id) AS feed_cnt FROM feedbacks AS feed WHERE feed.delete_flag != 1 GROUP BY feed.user_id) AS feed_cnt_table ON u.user_id = feed_cnt_table.user_id LEFT OUTER JOIN (SELECT user_id, count(art.user_id) AS art_qiita_cnt FROM articles AS art WHERE art.state_flag = 2 GROUP BY art.user_id) AS art_qiita_cnt_table ON u.user_id = art_qiita_cnt_table.user_id LEFT OUTER JOIN (SELECT posted_user_id, count(recommend.posted_user_id) AS recommend_cnt FROM qiita_recommends AS recommend GROUP BY recommend.posted_user_id) AS recommend_cnt_table ON u.user_id = recommend_cnt_table.posted_user_id WHERE u.user_id = ? ORDER BY tag_cnt_table.tag_cnt DESC, tag_id;
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-5] - ==> Parameters: 31(Integer), 31(Integer)
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-5] - <==      Total: 5
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-8] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-8] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-10] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-10] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-8] - <==      Total: 1
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-10] - <==      Total: 1
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-2] - ==>  Preparing: SELECT user_id AS user_id, uid AS uid, photo_url AS photo_url, display_name AS display_name, password AS password FROM users WHERE uid = ?
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-8] - ==>  Preparing: SELECT art.article_id AS article_id, art.title AS article_title, art.created_at AS created_at, art.updated_at AS updated_at, art.state_flag AS state_flag, tags.tag_id AS tag_id, tags.tag_name AS tag_name, IF(feed_cnt_table.feed_cnt, feed_cnt_table.feed_cnt, 0) AS feedback_count, IF(my_cnt_table.my_cnt, my_cnt_table.my_cnt, 0) AS registered_my_article_count, users.user_id AS user_id, users.display_name AS display_name, users.photo_url AS photo_url, IF(recommend_cnt_table.recommend_cnt, recommend_cnt_table.recommend_cnt, 0) AS qiita_recommend_point FROM feedbacks AS feedbacked LEFT JOIN articles AS art ON feedbacked.article_id = art.article_id LEFT OUTER JOIN articles_tags_relations AS a_t_relation ON art.article_id = a_t_relation.article_id LEFT OUTER JOIN tags ON a_t_relation.tag_id = tags.tag_id LEFT OUTER JOIN (SELECT article_id, count(feed.article_id) AS feed_cnt FROM feedbacks AS feed GROUP BY feed.article_id) AS feed_cnt_table ON art.article_id = feed_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(my.article_id) AS my_cnt FROM my_articles AS my GROUP BY my.article_id) AS my_cnt_table ON art.article_id = my_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(recommend.article_id) AS recommend_cnt FROM qiita_recommends AS recommend GROUP BY recommend.article_id) AS recommend_cnt_table ON art.article_id = recommend_cnt_table.article_id LEFT JOIN users ON art.user_id = users.user_id WHERE feedbacked.user_id = ? AND art.state_flag != 9 AND feedbacked.delete_flag != 1 ORDER BY art.created_at DESC, tag_id;
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-2] - ==> Parameters: uPvNHn2IwgTPUhPt5D8a1P6f8Lq2(String)
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-10] - ==>  Preparing: SELECT art.article_id AS article_id, art.title AS article_title, art.created_at AS created_at, art.updated_at AS updated_at, art.state_flag AS state_flag, tags.tag_id AS tag_id, tags.tag_name AS tag_name, IF(feed_cnt_table.feed_cnt, feed_cnt_table.feed_cnt, 0) AS feedback_count, IF(my_cnt_table.my_cnt, my_cnt_table.my_cnt, 0) AS registered_my_article_count, users.user_id AS user_id, users.display_name AS display_name, users.photo_url AS photo_url, IF(recommend_cnt_table.recommend_cnt, recommend_cnt_table.recommend_cnt, 0) AS qiita_recommend_point FROM my_articles AS my_art LEFT JOIN articles AS art ON my_art.article_id = art.article_id LEFT OUTER JOIN articles_tags_relations AS a_t_relation ON art.article_id = a_t_relation.article_id LEFT OUTER JOIN tags AS tags ON a_t_relation.tag_id = tags.tag_id LEFT OUTER JOIN (SELECT article_id, count(feed.article_id) AS feed_cnt FROM feedbacks AS feed GROUP BY feed.article_id) AS feed_cnt_table ON art.article_id = feed_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(my.article_id) AS my_cnt FROM my_articles AS my GROUP BY my.article_id) AS my_cnt_table ON art.article_id = my_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(recommend.article_id) AS recommend_cnt FROM qiita_recommends AS recommend GROUP BY recommend.article_id) AS recommend_cnt_table ON art.article_id = recommend_cnt_table.article_id LEFT JOIN users ON art.user_id = users.user_id WHERE my_art.register_user_id = ? AND art.state_flag != 9 ORDER BY art.created_at DESC, tag_id;
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-8] - ==> Parameters: 31(Integer)
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-2] - <==      Total: 1
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-10] - ==> Parameters: 31(Integer)
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-2] - ==>  Preparing: SELECT art.article_id AS articleId, art.title AS title, art.created_at AS createdAt, art.updated_at AS updatedAt, art.state_flag AS stateFlag, tags.tag_id AS tagId, tags.tag_name AS tagName, IF(feed_cnt_table.feed_cnt, feed_cnt_table.feed_cnt, 0) AS feedCnt, IF(my_cnt_table.my_cnt, my_cnt_table.my_cnt, 0) AS myCnt, users.user_id AS userId, users.display_name AS displayName, users.photo_url AS photoUrl, IF(recommend_cnt_table.recommend_cnt, recommend_cnt_table.recommend_cnt, 0) AS recommendCnt FROM articles AS art LEFT OUTER JOIN articles_tags_relations AS a_t_relation ON art.article_id = a_t_relation.article_id LEFT OUTER JOIN tags ON a_t_relation.tag_id = tags.tag_id LEFT OUTER JOIN (SELECT article_id, count(feed.article_id) AS feed_cnt FROM feedbacks AS feed GROUP BY feed.article_id) AS feed_cnt_table ON art.article_id = feed_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(my.article_id) AS my_cnt FROM my_articles AS my GROUP BY my.article_id) AS my_cnt_table ON art.article_id = my_cnt_table.article_id LEFT OUTER JOIN (SELECT article_id, count(recommend.article_id) AS recommend_cnt FROM qiita_recommends AS recommend GROUP BY recommend.article_id) AS recommend_cnt_table ON art.article_id = recommend_cnt_table.article_id LEFT JOIN users ON art.user_id = users.user_id WHERE art.user_id = ? AND art.state_flag != 9 ORDER BY art.created_at DESC, tags.tag_id;
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-2] - ==> Parameters: 31(Integer)
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-8] - <==      Total: 14
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-10] - <==      Total: 16
2020-12-07 11:08:18 DEBUG [http-nio-8080-exec-2] - <==      Total: 30
